<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Get in touch with the Solarkits team. We'd love to hear from you!">
    <title>Contact Us - Solarkits</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="../images/site/favicon.svg">
</head>
<body>
    <!-- Skip to Content Link - Accessibility -->
    <a href="#main-content" class="skip-to-content">Skip to main content</a>

    <header class="header" id="header" role="banner">
        <div class="container">
            <nav class="nav">
                <div class="nav__logo">
                    <a href="../index.html" class="logo">
                        <img src="../images/site/logo.svg" alt="Solarkits Logo" class="logo__icon" width="40" height="40">
                        <span class="logo__text">solarkits</span>
                    </a>
                </div>
                <div class="nav__menu" id="nav-menu">
                    <ul class="nav__list">
                        <li class="nav__item"><a href="../index.html" class="nav__link">Home</a></li>
                        <li class="nav__item"><a href="blog.html" class="nav__link">Blog</a></li>
                        <li class="nav__item"><a href="categories.html" class="nav__link">Shop</a></li>
                        <li class="nav__item"><a href="about.html" class="nav__link">About</a></li>
                        <li class="nav__item"><a href="contact.html" class="nav__link nav__link--active">Contact</a></li>
                    </ul>
                </div>
                <div class="nav__toggle" id="nav-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <main class="main" id="main-content" role="main">
        <section class="hero" style="padding: 3rem 0;">
            <div class="container">
                <h1 class="hero__title">Contact Us</h1>
                <p class="hero__description">
                    Have a question or suggestion? We'd love to hear from you!
                </p>
            </div>
        </section>

        <section style="padding: 4rem 0;">
            <div class="container" style="max-width: 700px;">
                <form id="contact-form" action="https://formspree.io/f/mwprqejv" method="POST" style="background: white; padding: 2.5rem; border-radius: 12px; box-shadow: var(--shadow-md);">
                    <div style="margin-bottom: 1.5rem;">
                        <label for="name" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text);">
                            Name *
                        </label>
                        <input
                            type="text"
                            id="name"
                            name="name"
                            required
                            style="width: 100%; padding: 0.75rem; border: 2px solid var(--color-border); border-radius: var(--radius-sm); font-size: 1rem; transition: border-color var(--transition-base);"
                            onfocus="this.style.borderColor='var(--color-primary)'"
                            onblur="this.style.borderColor='var(--color-border)'">
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        <label for="email" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text);">
                            Email *
                        </label>
                        <input
                            type="email"
                            id="email"
                            name="email"
                            required
                            style="width: 100%; padding: 0.75rem; border: 2px solid var(--color-border); border-radius: var(--radius-sm); font-size: 1rem; transition: border-color var(--transition-base);"
                            onfocus="this.style.borderColor='var(--color-primary)'"
                            onblur="this.style.borderColor='var(--color-border)'">
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        <label for="subject" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text);">
                            Subject *
                        </label>
                        <select
                            id="subject"
                            name="subject"
                            required
                            style="width: 100%; padding: 0.75rem; border: 2px solid var(--color-border); border-radius: var(--radius-sm); font-size: 1rem; transition: border-color var(--transition-base); background: white;"
                            onfocus="this.style.borderColor='var(--color-primary)'"
                            onblur="this.style.borderColor='var(--color-border)'">
                            <option value="">Select a subject...</option>
                            <option value="general">General Inquiry</option>
                            <option value="product">Product Suggestion</option>
                            <option value="partnership">Partnership Opportunity</option>
                            <option value="feedback">Feedback</option>
                            <option value="support">Technical Support</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        <label for="message" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text);">
                            Message *
                        </label>
                        <textarea
                            id="message"
                            name="message"
                            rows="6"
                            required
                            style="width: 100%; padding: 0.75rem; border: 2px solid var(--color-border); border-radius: var(--radius-sm); font-size: 1rem; resize: vertical; transition: border-color var(--transition-base); font-family: inherit;"
                            onfocus="this.style.borderColor='var(--color-primary)'"
                            onblur="this.style.borderColor='var(--color-border)'"></textarea>
                    </div>

                    <!-- Hidden fields for Formspree -->
                    <input type="hidden" name="_replyto" id="replyto">
                    <input type="hidden" name="_subject" value="New Contact Form Submission from Solarkits">

                    <button type="submit" class="btn btn--primary" style="width: 100%; font-size: 1.125rem;">
                        Send Message
                    </button>

                    <p style="margin-top: 1rem; font-size: 0.875rem; color: var(--color-text-light); text-align: center;">
                        We typically respond within 24-48 hours.
                    </p>
                </form>

                <div style="margin-top: 3rem; text-align: center; background: var(--color-bg-secondary); padding: 2rem; border-radius: 12px;">
                    <h3 style="margin-bottom: 1rem; color: var(--color-text);">Other Ways to Reach Us</h3>
                    <div style="display: flex; flex-direction: column; gap: 1rem; align-items: center;">
                        <p style="color: var(--color-text-light);">
                            <strong>Email:</strong> <a href="mailto:contact@solarkits.shop" style="color: var(--color-primary);">contact@solarkits.shop</a>
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer__grid">
                <div class="footer__column">
                    <div class="footer__logo">
                        <img src="../images/site/logo.svg" alt="Solarkits Logo" class="logo__icon" width="40" height="40">
                        <span class="logo__text">solarkits</span>
                    </div>
                    <p class="footer__description">
                        Your trusted source for solar energy products and solutions.
                        Powering homes and lives with clean, reliable solar energy.
                    </p>
                </div>
                <div class="footer__column">
                    <h3 class="footer__title">Quick Links</h3>
                    <ul class="footer__links">
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="../index.html#categories">Categories</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer__column">
                    <h3 class="footer__title">Legal</h3>
                    <ul class="footer__links">
                        <li><a href="disclaimer.html">Affiliate Disclaimer</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                    </ul>
                </div>

                <!-- Newsletter -->
                <div class="footer__column">
                    <h3 class="footer__title">Stay Updated</h3>
                    <p class="footer__newsletter-text">Get the latest solar deals and energy tips delivered to your inbox.</p>
                    <form class="newsletter-form" id="newsletter-form">
                        <input
                            type="email"
                            class="newsletter__input"
                            placeholder="Your email"
                            aria-label="Email address"
                            required>
                        <button type="submit" class="newsletter__button">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="footer__bottom">
                <p class="footer__copyright">&copy; 2025 Solarkits. All rights reserved.</p>
                <p class="footer__disclaimer">
                    As an Amazon Associate and AliExpress affiliate, we earn from qualifying purchases.
                </p>
            </div>
        </div>
    </footer>

    <button class="scroll-top" id="scroll-top" aria-label="Scroll to top">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M12 19V5M5 12l7-7 7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>

    <script src="../js/notification.js"></script>
    <script src="../js/main.js" defer></script>
    <script>
        // Contact form handler with Formspree integration
        document.getElementById('contact-form').addEventListener('submit', async function(e) {
            e.preventDefault();

            const form = this;
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;

            // Set the reply-to email from the email field
            const emailField = form.querySelector('[name="email"]');
            const replyToField = form.querySelector('[name="_replyto"]');
            if (emailField && replyToField) {
                replyToField.value = emailField.value;
            }

            // Disable button and show loading state
            submitBtn.disabled = true;
            submitBtn.textContent = 'Sending...';

            try {
                const formData = new FormData(form);

                console.log('Submitting form to:', form.action);
                console.log('Form data:', Object.fromEntries(formData));

                // Submit to Formspree
                const response = await fetch(form.action, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                console.log('Response status:', response.status);
                const data = await response.json();
                console.log('Response data:', data);

                if (response.ok) {
                    // Show success notification
                    if (window.notify) {
                        window.notify.success('Thank you for your message! We\'ll get back to you within 24-48 hours.', {
                            title: 'Message Sent',
                            duration: 6000
                        });
                    }

                    // Reset form
                    form.reset();
                } else {
                    // Check if there's an error message from Formspree
                    const errorMsg = data.errors ? data.errors.map(e => e.message).join(', ') : 'Form submission failed';
                    throw new Error(errorMsg);
                }
            } catch (error) {
                console.error('Error submitting form:', error);

                // Show error notification
                if (window.notify) {
                    window.notify.error('There was an error sending your message. Please try again or email us directly at contact@solarkits.shop', {
                        title: 'Send Failed',
                        duration: 8000
                    });
                } else {
                    alert('Error: ' + error.message + '\n\nPlease email us directly at contact@solarkits.shop');
                }
            } finally {
                // Re-enable button
                submitBtn.disabled = false;
                submitBtn.textContent = originalText;
            }
        });
    </script>
</body>
</html>
